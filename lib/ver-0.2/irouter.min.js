function _(b){return document.getElementById(b)}function string_bw__word(a,b,c){return a.split(b).pop().split(c)[0]}var pages=[],current_page="",iattributes=[],page_loaded=[],tmp_id="itmp_"+Math.random().toString(36).substring(7);function change_page(){(pages.includes(location.hash.substr(2))||""==location.hash||"#!"==location.hash)&&(requested_page=location.hash.substr(2),""!=current_page&&"#!"!=current_page&&(_(current_page.substr(2)).style.display="none"),""==location.hash||"#!"==location.hash?location.hash="#!"+default_page:pages.includes(requested_page)&&(_(requested_page).style.display="block"),null!=iattributes[pages.indexOf(requested_page)]&&irouter(iattributes[pages.indexOf(requested_page)],requested_page),current_page="#!"+requested_page),window.onhashchange=change_page}function irouter(a,b){if(prop=JSON.parse(a),b="insert-into"in prop?prop["insert-into"]:b,!page_loaded.includes(b)||page_loaded.includes(b)&&"false"==prop.cache){var c="get"in prop?"GET":"post"in prop?"POST":"other",d="loading-screen"in prop?_(prop["loading-screen"]).innerHTML:"Loading..";_(b).innerHTML=d,console.log(c),"other"!=c&&irequest(prop[c.toLowerCase()],c).then(function(a){_(b).innerHTML=a,page_loaded.push(b)}).catch(a=>console.error(a))}}function irequest(a="",b,c){return fetch(a,{method:b,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrer:"no-referrer",body:c}).then(a=>a.text())}function init_irouter(){for(var a=document.getElementsByClassName("ipage"),b=0;b<a.length;b++)a[b].style.display="none",pages[b]=a[b].id,iattributes[b]=a[b].getAttribute("irouter");for(var c=document.getElementsByClassName("iloading-screen"),b=0;b<c.length;b++)c[b].style.display="none";default_page=document.getElementsByClassName("ipage-default")[0]===void 0?null:document.getElementsByClassName("ipage-default")[0].id;var d=document.createElement("DIV");d.id=tmp_id,document.body.appendChild(d),change_page()}document.addEventListener("DOMContentLoaded",init_irouter);