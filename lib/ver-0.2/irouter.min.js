(function(){function a(b){return document.getElementById(b)}function b(){(e.includes(location.hash.substr(2))||""==location.hash||"#!"==location.hash)&&(requested_page=location.hash.substr(2),""!=f&&"#!"!=f&&(a(f.substr(2)).style.display="none"),""==location.hash||"#!"==location.hash?location.hash="#!"+default_page:e.includes(requested_page)&&(a(requested_page).style.display="block"),null!=g[e.indexOf(requested_page)]&&c(g[e.indexOf(requested_page)],requested_page),f="#!"+requested_page),window.onhashchange=b}function c(b,c){if(prop=JSON.parse(b),c="insert-into"in prop?prop["insert-into"]:c,!h.includes(c)||h.includes(c)&&"false"==prop.cache){var e="get"in prop?"GET":"post"in prop?"POST":"other",f="loading-screen"in prop?a(prop["loading-screen"]).innerHTML:"Loading..";a(c).innerHTML=f,console.log(e),"other"!=e&&d(prop[e.toLowerCase()],e).then(function(b){a(c).innerHTML=b,h.push(c)}).catch(a=>console.error(a))}}function d(a="",b,c){return fetch(a,{method:b,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrer:"no-referrer",body:c}).then(a=>a.text())}var e=[],f="",g=[],h=[],j="itmp_"+Math.random().toString(36).substring(7);document.addEventListener("DOMContentLoaded",function(){for(var a=document.getElementsByClassName("ipage"),c=0;c<a.length;c++)a[c].style.display="none",e[c]=a[c].id,g[c]=a[c].getAttribute("irouter");for(var d=document.getElementsByClassName("iloading-screen"),c=0;c<d.length;c++)d[c].style.display="none";default_page=document.getElementsByClassName("ipage-default")[0]===void 0?null:document.getElementsByClassName("ipage-default")[0].id;var f=document.createElement("DIV");f.id=j,document.body.appendChild(f),b()})})();
